<% flash.each do |type, message| %> <%=show_alert(type, message)%> <% end %>
<div class="flex items-center">
  <h1 class="text-2xl font-semibold text-gray-900 dark:text-white mr-10">
    Companies
  </h1>
  <%=link_to "New Company",add_companies_path, class: "text-white bg-blue-700
  hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg
  text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700
  focus:outline-none dark:focus:ring-blue-800"%>
</div>
<%= form_with(url: "", layout: :horizontal, method: :get, id: 'form-filter') do |form| %>
<div class="col-sm-12 col-md-12 col-lg-8 col-xl-4">
  <%= form.search_field :q, value: params[:q], oninput: "if (this.value.length == 0) this.form.requestSubmit();", placeholder: "Search Company", 
        class:"form-control mt-5 mb-5 block py-2 px-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-full bg-gray-50 focus:ring-blue-500 focus:border-blue-500", append: button_to("<i class='fa-thin fa-search'></i>".html_safe,"javascript:this.form.requestSubmit();", class:"btn btn-success", render_as_button: true, method: :get), lautocomplete: "off"%>
</div>
<%end%>
<div class="relative overflow-x-auto mb-5">


  <table
    class="w-200 text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"
  >
    <thead
      class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
    >
      <tr>
        <th class="border px-4 py-2">Name</th>
        <th class="border px-4 py-2" colspan="3">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @companies.each do |company| %>
      <tr id="<%=dom_id(company)%>">
        <td class="border px-4 py-2"><%= company.name %></td>
        <td class="border px-4 py-2 text-center">
          <%=link_to company_path(company), class: "text-blue-700 border
          border-blue-700 hover:bg-blue-700 hover:text-white focus:ring-4
          focus:outline-none focus:ring-blue-300 rounded-full text-sm py-2
          px-2.5 text-center inline-flex items-center" do%>
          <svg
            class="w-4 h-4 mr-2"
            aria-hidden="true"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              fill-rule="evenodd"
              d="M4.998 7.78C6.729 6.345 9.198 5 12 5c2.802 0 5.27 1.345 7.002 2.78a12.713 12.713 0 0 1 2.096 2.183c.253.344.465.682.618.997.14.286.284.658.284 1.04s-.145.754-.284 1.04a6.6 6.6 0 0 1-.618.997 12.712 12.712 0 0 1-2.096 2.183C17.271 17.655 14.802 19 12 19c-2.802 0-5.27-1.345-7.002-2.78a12.712 12.712 0 0 1-2.096-2.183 6.6 6.6 0 0 1-.618-.997C2.144 12.754 2 12.382 2 12s.145-.754.284-1.04c.153-.315.365-.653.618-.997A12.714 12.714 0 0 1 4.998 7.78ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"
              clip-rule="evenodd"
            />
          </svg>

          Show 
          <%end%>
        </td>
        <td class="border px-4 py-2 text-center">
          <%=link_to edit_company_path(company), class: "text-green-700 border
          border-green-700 hover:bg-green-700 hover:text-white focus:ring-4
          focus:outline-none focus:ring-green-300 rounded-full text-sm py-2
          px-2.5 text-center inline-flex items-center" do%>
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path
              fill-rule="evenodd"
              d="M11.32 6.176H5c-1.105 0-2 .949-2 2.118v10.588C3 20.052 3.895 21 5 21h11c1.105 0 2-.948 2-2.118v-7.75l-3.914 4.144A2.46 2.46 0 0 1 12.81 16l-2.681.568c-1.75.37-3.292-1.263-2.942-3.115l.536-2.839c.097-.512.335-.983.684-1.352l2.914-3.086Z"
              clip-rule="evenodd"
            />
            <path
              fill-rule="evenodd"
              d="M19.846 4.318a2.148 2.148 0 0 0-.437-.692 2.014 2.014 0 0 0-.654-.463 1.92 1.92 0 0 0-1.544 0 2.014 2.014 0 0 0-.654.463l-.546.578 2.852 3.02.546-.579a2.14 2.14 0 0 0 .437-.692 2.244 2.244 0 0 0 0-1.635ZM17.45 8.721 14.597 5.7 9.82 10.76a.54.54 0 0 0-.137.27l-.536 2.84c-.07.37.239.696.588.622l2.682-.567a.492.492 0 0 0 .255-.145l4.778-5.06Z"
              clip-rule="evenodd"
            />
          </svg>
          Edit 
          <%end%>
        </td>
        <td class="border px-4 py-2 text-center">
          <%=link_to delete_company_path(company), class: "text-red-700 border
          border-red-700 hover:bg-red-700 hover:text-white focus:ring-4
          focus:outline-none focus:ring-red-300 rounded-full text-sm py-2 px-2.5
          text-center inline-flex items-center",data: {controller: "turbo", action: "click:turbo#delete", turbo_companyid_value:dom_id(company)}, method: :delete do%>
          <svg
            class="w-4 h-4"
            aria-hidden="true"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
            />
          </svg>
          Delete 
          <%end%>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%=pagy_tailwind_nav(@pagy)%>
